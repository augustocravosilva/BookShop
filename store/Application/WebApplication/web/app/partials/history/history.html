<section class="section1">
    <div class="container clearfix">
        <div class="content clearfix">
            <div class="form-panel">
                <h4 class="mb"><i class="fa fa-angle-right"></i>User profile</h4><br/>

                <div ng-show="errorMessage.length > 0" class="alert alert-danger">{{errorMessage}}</div>
                <table class="table table-striped" data-effect="fade">
                    <thead>
                    <tr>
                        <th>Field</th>
                        <th>Value</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Name</td>
                        <td>{{user.name}}</td>
                    </tr>
                    <tr>
                        <td>E-mail</td>
                        <td>{{user.email}}</td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td>{{user.city}}</td>
                    </tr>
                    </tbody>
                </table>

                <button class="btn btn-theme" id="editFormSubmitButton" ng-click="goToEdit()">Edit Profile</button>
            </div>

            <br/>

            <h4 class="mb"><i class="fa fa-angle-right"></i>User history</h4>
            <br/>
            <table datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" class="row-border hover"
                   class="table table-striped" style="cursor:pointer;">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Date</th>
                    <th>State</th>
                    <th>Total</th>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="order in orders" ng-click="open(lg, $index)">
                    <td>#{{order.id}}</td>
                    <td>{{order.date | date}}</td>
                    <td>{{order.state | translateState}}</td>
                    <td>{{order.total | currency: "€"}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Login Modal -->
<script type="text/ng-template" id="historyModal.html">
    <div class="container">
        <table class="table table-striped" data-effect="fade">
            <thead>
            <tr>
                <th>Field</th>
                <th>Value</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>ID</td>
                <td>{{order.id}}</td>
            </tr>
            <tr>
                <td>Date</td>
                <td>{{order.date | date}}</td>
            </tr>
            <tr>
                <td>State</td>
                <td>{{order.state | translateState}}</td>
            </tr>
            <tr>
                <td>Total</td>
                <td>{{order.total | currency: "€"}}</td>
            </tr>
            </tbody>
        </table>

        <table class="table table-striped" data-effect="fade">
            <thead>
            <tr>
                <th>Product: </th>
                <th>{{$index + 1}}</th>
            </tr>
            </thead>
            <tbody>

            <tr>
                <td>Title</td>
                <td><a ng-href="#/products/{{order.product_id}}" ng-click="close()">{{order.title}}</a></td>
            </tr>

            <tr>
                <td>Unit Price</td>
                <td>{{order.unit_price | currency: "€"}}</td>
            </tr>

            <tr>
                <td>Quantity</td>
                <td>{{order.quantity}}</td>
            </tr>

            <tr>
                <td>Total</td>
                <td>{{order.total | currency: "€"}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</script>